import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as s,o as l,c as a,a as t,d as e,b as n}from"./app-2d0f66e1.js";const c={},h=t("h1",{id:"_8、协程",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_8、协程","aria-hidden":"true"},"#"),n(" 8、协程")],-1),i=t("h3",{id:"详情还是要看文档",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#详情还是要看文档","aria-hidden":"true"},"#"),n(" 详情还是要看文档")],-1),_={href:"https://docs.python.org/zh-cn/3/library/asyncio-runner.html#asyncio.run",target:"_blank",rel:"noopener noreferrer"},d=t("code",null,"run()",-1),u=t("th",null,"创建事件循环，运行一个协程，关闭事件循环。",-1),y={href:"https://docs.python.org/zh-cn/3/library/asyncio-runner.html#asyncio.Runner",target:"_blank",rel:"noopener noreferrer"},p=t("code",null,"Runner",-1),f=t("td",null,"A context manager that simplifies multiple async function calls.",-1),k={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.Task",target:"_blank",rel:"noopener noreferrer"},b=t("code",null,"Task",-1),g=t("td",null,"Task对象",-1),m={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.TaskGroup",target:"_blank",rel:"noopener noreferrer"},z=t("code",null,"TaskGroup",-1),w=t("td",null,"A context manager that holds a group of tasks. Provides a convenient and reliable way to wait for all tasks in the group to finish.",-1),x={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.create_task",target:"_blank",rel:"noopener noreferrer"},T=t("code",null,"create_task()",-1),v=t("td",null,"Start an asyncio Task, then returns it.",-1),R={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.current_task",target:"_blank",rel:"noopener noreferrer"},B=t("code",null,"current_task()",-1),E=t("td",null,"返回当前Task对象",-1),N={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.all_tasks",target:"_blank",rel:"noopener noreferrer"},S=t("code",null,"all_tasks()",-1),V=t("td",null,"Return all tasks that are not yet finished for an event loop.",-1),A=t("code",null,"await",-1),G={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.sleep",target:"_blank",rel:"noopener noreferrer"},I=t("code",null,"sleep()",-1),L=t("td",null,"休眠几秒。",-1),O=t("code",null,"await",-1),C={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.gather",target:"_blank",rel:"noopener noreferrer"},P=t("code",null,"gather()",-1),U=t("td",null,"并发执行所有事件的调度和等待。",-1),j=t("code",null,"await",-1),q={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.wait_for",target:"_blank",rel:"noopener noreferrer"},D=t("code",null,"wait_for()",-1),F=t("td",null,"有超时控制的运行。",-1),H=t("code",null,"await",-1),J={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.shield",target:"_blank",rel:"noopener noreferrer"},K=t("code",null,"shield()",-1),M=t("td",null,"屏蔽取消操作",-1),Q=t("code",null,"await",-1),W={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.wait",target:"_blank",rel:"noopener noreferrer"},X=t("code",null,"wait()",-1),Y=t("td",null,"完成情况的监控器",-1),Z={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.timeout",target:"_blank",rel:"noopener noreferrer"},$=t("code",null,"timeout()",-1),tt=t("td",null,[n("Run with a timeout. Useful in cases when "),t("code",null,"wait_for"),n(" is not suitable.")],-1),nt={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.to_thread",target:"_blank",rel:"noopener noreferrer"},ot=t("code",null,"to_thread()",-1),et=t("td",null,"在不同的 OS 线程中异步地运行一个函数。",-1),rt={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.run_coroutine_threadsafe",target:"_blank",rel:"noopener noreferrer"},st=t("code",null,"run_coroutine_threadsafe()",-1),lt=t("td",null,"从其他OS线程中调度一个协程。",-1),at=t("code",null,"for in",-1),ct={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.as_completed",target:"_blank",rel:"noopener noreferrer"},ht=t("code",null,"as_completed()",-1),it=t("td",null,[n("用 "),t("code",null,"for"),n(" 循环监控完成情况。")],-1),_t={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio-example-gather",target:"_blank",rel:"noopener noreferrer"},dt={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio-example-waitfor",target:"_blank",rel:"noopener noreferrer"},ut={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio-example-task-cancel",target:"_blank",rel:"noopener noreferrer"},yt={href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio-example-sleep",target:"_blank",rel:"noopener noreferrer"},pt=t("h3",{id:"事件循环",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#事件循环","aria-hidden":"true"},"#"),n(" 事件循环")],-1),ft=t("p",null,"所以，我们可以想象，现在有一个循环和一个生成器列表，每次循环，我们都将所有的生成器进行一次调用，所有生成器交替执行。",-1);function kt(bt,gt){const o=s("ExternalLinkIcon");return l(),a("div",null,[h,i,t("table",null,[t("thead",null,[t("tr",null,[t("th",null,[t("a",_,[d,e(o)])]),u])]),t("tbody",null,[t("tr",null,[t("td",null,[t("a",y,[p,e(o)])]),f]),t("tr",null,[t("td",null,[t("a",k,[b,e(o)])]),g]),t("tr",null,[t("td",null,[t("a",m,[z,e(o)])]),w]),t("tr",null,[t("td",null,[t("a",x,[T,e(o)])]),v]),t("tr",null,[t("td",null,[t("a",R,[B,e(o)])]),E]),t("tr",null,[t("td",null,[t("a",N,[S,e(o)])]),V]),t("tr",null,[t("td",null,[A,n(),t("a",G,[I,e(o)])]),L]),t("tr",null,[t("td",null,[O,n(),t("a",C,[P,e(o)])]),U]),t("tr",null,[t("td",null,[j,n(),t("a",q,[D,e(o)])]),F]),t("tr",null,[t("td",null,[H,n(),t("a",J,[K,e(o)])]),M]),t("tr",null,[t("td",null,[Q,n(),t("a",W,[X,e(o)])]),Y]),t("tr",null,[t("td",null,[t("a",Z,[$,e(o)])]),tt]),t("tr",null,[t("td",null,[t("a",nt,[ot,e(o)])]),et]),t("tr",null,[t("td",null,[t("a",rt,[st,e(o)])]),lt]),t("tr",null,[t("td",null,[at,n(),t("a",ct,[ht,e(o)])]),it])])]),t("ul",null,[t("li",null,[t("a",_t,[n("使用 asyncio.gather() 并行运行"),e(o)]),n(".")]),t("li",null,[t("a",dt,[n("使用 asyncio.wait_for() 强制超时"),e(o)]),n(".")]),t("li",null,[t("a",ut,[n("撤销协程"),e(o)]),n(".")]),t("li",null,[t("a",yt,[n("asyncio.sleep() 的用法"),e(o)]),n(".")])]),pt,ft])}const wt=r(c,[["render",kt],["__file","8、协程——asyncio.html.vue"]]);export{wt as default};
