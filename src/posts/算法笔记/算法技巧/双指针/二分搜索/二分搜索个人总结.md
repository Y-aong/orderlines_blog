---
icon: pen-to-square
date: 2024-04-17
category:
  - 算法笔记
  - 左右指针
tag:
  - 双指针
star: true
---

# 二分搜索个人总结



### 一、个人总结

个人感觉二分搜索挺简单的，但是有时候很多二分题目又做不出来，就是觉得非常的不舒服，网上也有很多的二分法的总结，什么开区间，闭区间，左开右闭，左闭右开，红蓝染色法，方法论真的是一大堆，但是对于很多题目又是力不从心。感觉有时候又会觉得无从下手，那我我根据我的做题经验来总结下我的理解。

- 开区间：首先我比较喜欢开区间的方法，但是开区间又不是简单的左开就是-1，右开就是len(num),这个需要根据题目来具体确定
- 问题的单调性：这个也是我们使用二分法的一个非常重要的方式，如果问题没有单调性那么我们就不要使用二分法了
- 左右指针分别代表什么：有时候我们在做题的时候一定要清楚左右指针代表着什么，这个也是很多大神说的循环不变量。这个很多时候也决定我们要返回什么数据
- 左右区间的分界线：这个也就是题目中求得是什么，有时候这个左右区间的分界线需要我们根据题目分界求出来，有时候不是一眼就可以看出来的。



当我们确定以上几点，也就是开区间，问题的单调性，左右指针代表什么，左右区间的分界我们剩下的事才是套模版



### 二、模版分享

首先说明我就只喜欢开区间，因为我不喜欢加一减一这些很繁琐的操作

```
left = -1
right = len(nums)
while left + 1 != right:
	middle = (left+ right) // 2
	if nums[middle] > taget:
		# 目标值在[left middle]
		right = middle
	else:
		# 目标值在[middle right]
		left = middle
return right or left
```



这里还有个小技巧就是我们不知道返回left还是right时我们，找个简单的例子带入试一下



### 三、经典例题

#### [704. 二分查找](https://leetcode.cn/problems/binary-search/)



给定一个 `n` 个元素有序的（升序）整型数组 `nums` 和一个目标值 `target` ，写一个函数搜索 `nums` 中的 `target`，如果目标值存在返回下标，否则返回 `-1`。


**示例 1:**

```
输入: nums = [-1,0,3,5,9,12], target = 9
输出: 4
解释: 9 出现在 nums 中并且下标为 4
```

**示例 2:**

```
输入: nums = [-1,0,3,5,9,12], target = 2
输出: -1
解释: 2 不存在 nums 中因此返回 -1
```

 

**提示：**

1. 你可以假设 `nums` 中的所有元素是不重复的。
2. `n` 将在 `[1, 10000]`之间。
3. `nums` 的每个元素都将在 `[-9999, 9999]`之间。



```python
class Solution:
    def search(self, nums: List[int], target: int) -> int:
        left = -1
        right = len(nums)
        while left + 1!= right:
            middle = (left+right) // 2
            if nums[middle] > target:
                # left middle
                right = middle
            elif nums[middle] < target:
                left = middle
            else:
                return middle
        return -1
```

